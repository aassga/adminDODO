{"remainingRequest":"D:\\domain\\node_modules\\thread-loader\\dist\\cjs.js!D:\\domain\\node_modules\\babel-loader\\lib\\index.js!D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\domain\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\domain\\src\\views\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\domain\\src\\views\\Login\\Login.vue","mtime":1613982357230},{"path":"D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbG9naW4gYXMgX2xvZ2luIH0gZnJvbSAiX2FwaS9pbmRleC5qcyI7CmltcG9ydCB7IHNldFRva2VuIH0gZnJvbSAiX3V0aWwvaW5kZXguanMiOwppbXBvcnQgaHR0cCBmcm9tICJAL2Fzc2V0cy9qcy9odHRwLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbFBvc2l0aW9uOiAidG9wIiwKICAgICAgZm9ybUxhYmVsQWxpZ246IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcmVtZW1iZXJfbWU6IHRoaXMuaXNSZW1lbWJlciA9PSB0cnVlID8gMSA6IDAKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6KuL6Ly45YWl5biz6JmfIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6KuL6Ly45YWl5a+G56K8IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogOCwKICAgICAgICAgIG1lc3NhZ2U6ICLmnIDlsI/vvJjlgIvlrZfnrKbku6XkuIoiLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgaXNSZW1lbWJlcjogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJyZW1lbWJlck1lIikgPT0gbnVsbCB8fCBmYWxzZSA/IGZhbHNlIDogdHJ1ZSwKICAgICAgdG9rZW46IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8v5Yik5pa35piv5ZCm6KiY5L2P5oiRCiAgICBpZiAodGhpcy5pc1JlbWVtYmVyICYmIHRoaXMudG9rZW4pIHsKICAgICAgLy/pqZforYl0b2tlbuaYr+WQpumBjuacnwogICAgICBodHRwLmdldCgiL2FwaS9tZSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICIvZG9tYWluL2hvbWUiCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+eZu+WFpQogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKHJ1bGVzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZm9ybUxhYmVsQWxpZ24ubmFtZS50cmltKCkgPT0gIiIpIHsKICAgICAgICB0aGlzLmZvcm1MYWJlbEFsaWduLm5hbWUgPSAiIjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZm9ybUxhYmVsQWxpZ24ucGFzc3dvcmQudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy5mb3JtTGFiZWxBbGlnbi5wYXNzd29yZCA9ICIiOwogICAgICB9IC8v6amX6K2J6KGo5Zau5piv5ZCm6YCa6YGOCgoKICAgICAgdGhpcy4kcmVmc1tydWxlc10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgYWxlcnQoIueZu+WFpempl+itieWkseaVl++8jOiri+mHjeaWsOi8uOWFpeS4pueiuuiqjSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGJvZHlGb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGJvZHlGb3JtRGF0YS5hcHBlbmQoIm5hbWUiLCBfdGhpczIuZm9ybUxhYmVsQWxpZ24ubmFtZSk7CiAgICAgICAgYm9keUZvcm1EYXRhLmFwcGVuZCgicGFzc3dvcmQiLCBfdGhpczIuZm9ybUxhYmVsQWxpZ24ucGFzc3dvcmQpOwogICAgICAgIGJvZHlGb3JtRGF0YS5hcHBlbmQoInJlbWVtYmVyX21lIiwgX3RoaXMyLmZvcm1MYWJlbEFsaWduLnJlbWVtYmVyX21lKTsKCiAgICAgICAgX2xvZ2luKGJvZHlGb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAvL+eZu+WFpeaIkOWKnwogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICBzZXRUb2tlbihyZXMuZGF0YS5hY2Nlc3NfdG9rZW4pOwoKICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoImdldFRva2VuIiwgcmVzLmRhdGEuYWNjZXNzX3Rva2VuKTsKCiAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6ICIvZG9tYWluL2hvbWUiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIueZu+WFpeWkseaVl++8jOiri+mHjeaWsOeiuuiqjeW4s+iZn+WvhueivCIpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9IC8v55m75YWl5aSx5pWXCgogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICBhbGVydCgi55m75YWl5aSx5pWX77yM6KuL6YeN5paw56K66KqN5biz6Jmf5a+G56K8Iik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6KiY5L2P5oiRCiAgICByZW1lbWJlclBhc3N3b3JkOiBmdW5jdGlvbiByZW1lbWJlclBhc3N3b3JkKCkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInJlbWVtYmVyTWUiLCB0aGlzLmlzUmVtZW1iZXIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"leftBox\">\r\n      <div class=\"logo\">\r\n        <img :src=\"require('@/assets/baidu/login-title.png')\" alt=\"\" />\r\n      </div>\r\n      <!-- 表單 -->\r\n      <div class=\"form\">\r\n        <el-form\r\n          :label-position=\"labelPosition\"\r\n          label-width=\"80px\"\r\n          :model=\"formLabelAlign\"\r\n          :rules=\"rules\"\r\n          ref=\"formLabelAlignForm\"\r\n        >\r\n          <el-form-item label=\"用户名称\" prop=\"name\" style=\"margin-bottom:20px\">\r\n            <el-input\r\n              placeholder=\"请输入用户名称\"\r\n              v-model=\"formLabelAlign.name\"\r\n              @keyup.enter.native=\"login('formLabelAlignForm')\"\r\n            >\r\n            </el-input>\r\n            <img\r\n              :src=\"require('@/assets/baidu/user.png')\"\r\n              alt=\"user\"\r\n              class=\"icon\"\r\n            />\r\n          </el-form-item>\r\n\r\n          <el-form-item style=\"margin-bottom:20%\" label=\"密码\" prop=\"password\">\r\n            <el-input\r\n              placeholder=\"请输入密码\"\r\n              v-model=\"formLabelAlign.password\"\r\n              type=\"password\"\r\n              @keyup.enter.native=\"login('formLabelAlignForm')\"\r\n            >\r\n            </el-input>\r\n            <img\r\n              :src=\"require('@/assets/baidu/lock.png')\"\r\n              alt=\"password\"\r\n              class=\"icon\"\r\n            />\r\n          </el-form-item>\r\n          <input\r\n            type=\"checkbox\"\r\n            v-model=\"isRemember\"\r\n            @change=\"rememberPassword\"\r\n          />\r\n          <!-- @change=\"rememberPassword\" -->\r\n          <span class=\"remenber\">記住我</span>\r\n        </el-form>\r\n        <div class=\"button\" @click=\"login('formLabelAlignForm')\">\r\n          <!-- 登入 -->\r\n          <div alt=\"btn\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"rightBox\">\r\n      <div class=\"rightPic\">\r\n        <img src=\"@/assets/baidu/login-pic.svg\" alt=\"\" />\r\n      </div>\r\n      <div class=\"bottomPic\">\r\n        <img src=\"@/assets/baidu/logo-en.png\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login } from \"_api/index.js\";\r\nimport { setToken } from \"_util/index.js\";\r\nimport http from \"@/assets/js/http.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      labelPosition: \"top\",\r\n      formLabelAlign: {\r\n        name: \"\",\r\n        password: \"\",\r\n        remember_me: this.isRemember == true ? 1 : 0,\r\n      },\r\n      rules: {\r\n        name: [{ required: true, message: \"請輸入帳號\", trigger: \"blur\" }],\r\n        password: [\r\n                   {required: true, message: \"請輸入密碼\", trigger: \"blur\" },\r\n                   { min:8,message:\"最小８個字符以上\",trigger:'blur' }\r\n                  ],\r\n      },\r\n      isRemember:\r\n        window.localStorage.getItem(\"rememberMe\") == null || false\r\n          ? false\r\n          : true,\r\n      token: window.localStorage.getItem(\"token\"),\r\n    };\r\n  },\r\n  mounted() {\r\n    //判斷是否記住我\r\n    if (this.isRemember && this.token) {\r\n      //驗證token是否過期\r\n      http.get(\"/api/me\").then((res) => {\r\n        if (res.code == 200) {\r\n          this.$router.push({ path: \"/domain/home\" });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    //登入\r\n    login(rules) {\r\n      if (this.formLabelAlign.name.trim() == \"\") {\r\n        this.formLabelAlign.name = \"\";\r\n      }\r\n      if (this.formLabelAlign.password.trim() == \"\") {\r\n        this.formLabelAlign.password = \"\";\r\n      }\r\n      //驗證表單是否通過\r\n      this.$refs[rules].validate((valid) => {\r\n        if (!valid) {\r\n          alert(\"登入驗證失敗，請重新輸入並確認\");\r\n          return;\r\n        }\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append(\"name\", this.formLabelAlign.name);\r\n        bodyFormData.append(\"password\", this.formLabelAlign.password);\r\n        bodyFormData.append(\"remember_me\", this.formLabelAlign.remember_me);\r\n        login(bodyFormData)\r\n          .then((res) => {\r\n            //登入成功\r\n            if (res.code == 200) {\r\n              setToken(res.data.access_token);\r\n              this.$store.commit(\"getToken\", res.data.access_token);\r\n              this.$router.push({ path: \"/domain/home\" });\r\n            } else {\r\n              alert(\"登入失敗，請重新確認帳號密碼\");\r\n              return false;\r\n            }\r\n            //登入失敗\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            alert(\"登入失敗，請重新確認帳號密碼\");\r\n            return false;\r\n          });\r\n      });\r\n    },\r\n    //記住我\r\n    rememberPassword() {\r\n      window.localStorage.setItem(\"rememberMe\", this.isRemember);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n  display: flex;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  margin: 0 auto;\r\n  background: url(\"../../assets/baidu/Static BG.png\") no-repeat 100% 100%;\r\n  .leftBox {\r\n    width: 50%;\r\n    background: url(\"../../assets/baidu/login-form-bg.png\") no-repeat;\r\n    background-size: 100% 100%;\r\n    .logo {\r\n      margin: 9vw 0 5vw 0;\r\n      text-align: center;\r\n      img {\r\n        width: 20vw;\r\n      }\r\n    }\r\n    .form {\r\n      width: 20vw;\r\n      margin: 0 auto;\r\n      .el-form-item {\r\n        margin-bottom: 35px;\r\n        position: relative;\r\n        img {\r\n          position: absolute;\r\n          right: 12px;\r\n          top: 10px;\r\n        }\r\n        ::v-deep .el-input__inner {\r\n          height: 35px !important;\r\n          line-height: 35px !important;\r\n          font-size: 12px;\r\n          color: #868e96;\r\n        }\r\n      }\r\n      ::v-deep .el-form-item__error {\r\n        color: #fff;\r\n        font-size: 12px;\r\n      }\r\n      ::v-deep .el-form--label-top .el-form-item__label {\r\n        color: #fff !important;\r\n        font-size: 13px;\r\n      }\r\n      .remenber {\r\n        color: #fff;\r\n        font-size: 13px;\r\n      }\r\n      .button {\r\n        cursor: pointer;\r\n        margin-top: 10px;\r\n        &::before {\r\n          width: 100%;\r\n          line-height: 3em;\r\n          border-radius: 5px;\r\n          border: 2px solid #fff;\r\n          display: block;\r\n          content: \"登入\";\r\n          text-align: center;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .rightBox {\r\n    width: 50%;\r\n    .rightPic {\r\n      margin: 7% 0 0 0;\r\n      img {\r\n        position: relative;\r\n        left: -6%;\r\n        top: -19px;\r\n        width: 40vw;\r\n        height: 81vh;\r\n      }\r\n    }\r\n    .bottomPic {\r\n      position: relative;\r\n      padding-right: 10%;\r\n      text-align: end;\r\n      img {\r\n        width: 15vw;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/Login"}]}