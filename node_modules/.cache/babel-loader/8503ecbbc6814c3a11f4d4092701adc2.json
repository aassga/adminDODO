{"remainingRequest":"D:\\domain\\node_modules\\thread-loader\\dist\\cjs.js!D:\\domain\\node_modules\\babel-loader\\lib\\index.js!D:\\domain\\src\\router\\index.js","dependencies":[{"path":"D:\\domain\\src\\router\\index.js","mtime":1613982395208},{"path":"D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwoKdmFyIF90aGlzID0gdGhpczsKCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IGh0dHAgZnJvbSAiQC9hc3NldHMvanMvaHR0cC5qcyI7CnZhciBvcmlnaW5hbFB1c2ggPSBSb3V0ZXIucHJvdG90eXBlLnB1c2g7CgpSb3V0ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKGxvY2F0aW9uKSB7CiAgcmV0dXJuIG9yaWdpbmFsUHVzaC5jYWxsKHRoaXMsIGxvY2F0aW9uKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICByZXR1cm4gZXJyOwogIH0pOwp9OwoKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICIvbG9naW4iCn0sIHsKICBwYXRoOiAiL2xvZ2luIiwKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJMb2dpbiIgKi8KICAgICdAL3ZpZXdzL0xvZ2luL0xvZ2luLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICIvZG9tYWluIiwKICBuYW1lOiAiZG9tYWluIiwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoCiAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiZG9tYWluIiAqLwogICAgJ0Avdmlld3MvRG9tYWluL0RvbWFpbi52dWUnKTsKICB9LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogImhvbWUiLAogICAgbmFtZTogIkhvbWUiLAogICAgLy8g6aaW6aG1CiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgKICAgICAgLyogd2VicGFja0NodW5rTmFtZTogImhvbWUiICovCiAgICAgICdAL3ZpZXdzL0hvbWUvSG9tZS52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiYWRSYW5rIiwKICAgIG5hbWU6ICJBZFJhbmsiLAogICAgLy8g5Z+f5ZCN5o6S6KGM5qacCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgKICAgICAgLyogd2VicGFja0NodW5rTmFtZTogImFkUmFuayIgKi8KICAgICAgJ0Avdmlld3MvQWRSYW5rL0FkUmFuay52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiZGFzaGJvYXJkIiwKICAgIG5hbWU6ICJkYXNoYm9hcmQiLAogICAgLy8g5bm/5ZGK5o6S6KGM5qacCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgKICAgICAgLyogd2VicGFja0NodW5rTmFtZTogImRhc2hib2FyZCIgKi8KICAgICAgJ0Avdmlld3MvZGFzaGJvYXJkL2Rhc2hib2FyZC52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiZG9tYWluUmFuayIsCiAgICBuYW1lOiAiRG9tYWluUmFuayIsCiAgICAvLyDorr7lrprlhbPplK7lrZcKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiZG9tYWluUmFuayIgKi8KICAgICAgJ0Avdmlld3MvRG9tYWluUmFuay9Eb21haW5SYW5rLnZ1ZScpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICJzZXR0aW5ncyIsCiAgICBuYW1lOiAiU2V0dGluZ3MiLAogICAgLy/nrqHnkIYKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAic2V0dGluZ3MiICovCiAgICAgICdAL3ZpZXdzL1NldHRpbmdzL1NldHRpbmdzLnZ1ZScpOwogICAgfQogIH1dCn0sIHsKICBwYXRoOiAiKiIsCiAgcmVkaXJlY3Q6ICIvbG9naW4iCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hhc2gnLAogIC8vIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOyAvL+WwjuiIquWuiOihmwoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy/liKTmlrd0b2tlbuaYr+WQpuWkseaViAogIHZhciBpc0xvZ2luID0gZmFsc2U7CgogIGlmICh0by5uYW1lICE9PSAiTG9naW4iKSB7CiAgICBodHRwLmdldCgiL2FwaS9tZSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgaXNMb2dpbiA9IHRydWU7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VuZ2luZScsIHJlcy5kYXRhLnVzZXIuZW5naW5lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0KHsKICAgICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgbmV4dCh7CiAgICAgICAgICBwYXRoOiAnL2xvZ2luJwogICAgICAgIH0pOwogICAgICB9LCAyMDAwKTsKICAgICAgYWxlcnQoIuiri+azqOaEj++8mueUseaWvOaCqOmBjuaWvOmgu+e5gei3s+i9iemggemdou+8jOWboOatpOezu+e1seWIpOWumueCuuaDoeaEj+ihjOeCuu+8jOWNs+Wwh+WwjuWQkeeZu+WFpemgge+8jOisneisneOAgiIpOwogICAgfSk7CiAgfSAvL+WcqOeZu+WFpeeLgOaFi+S4i+WwjuWIsOWFtuS7lumggemdouWJh+i/lOWbnmhvbWXpoIEKCgogIGlmICh0by5wYXRoICE9ICIvZG9tYWluIiAmJiB0by5wYXRoICE9ICIvZG9tYWluL2hvbWUiICYmIHRvLnBhdGggIT0gIi9kb21haW4vYWRSYW5rIiAmJiB0by5wYXRoICE9ICIvZG9tYWluL2Rhc2hib2FyZCIgJiYgdG8ucGF0aCAhPSAiL2RvbWFpbi9kb21haW5SYW5rIiAmJiB0by5wYXRoICE9ICIvZG9tYWluL3NldHRpbmdzIiAmJiBpc0xvZ2luKSB7CiAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICBwYXRoOiAiL2hvbWUiCiAgICB9KTsKICB9IGVsc2UgbmV4dCgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["D:/domain/src/router/index.js"],"names":["Vue","VueRouter","Router","http","originalPush","prototype","push","location","call","catch","err","use","routes","path","redirect","name","component","children","router","mode","beforeEach","to","from","next","isLogin","get","then","res","code","localStorage","setItem","data","user","engine","setTimeout","alert","$router"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Router from 'vue-router'\r\nimport http from \"@/assets/js/http.js\";\r\nconst originalPush = Router.prototype.push\r\n   Router.prototype.push = function push(location) {\r\n   return originalPush.call(this, location).catch(err => err)\r\n}\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path:'/',\r\n    redirect:\"/login\"\r\n  },\r\n  {\r\n    path:\"/login\",\r\n    name:\"Login\",\r\n    component: () => import(/* webpackChunkName: \"Login\" */ '@/views/Login/Login.vue'),\r\n  },\r\n  {\r\n    path:\"/domain\",\r\n    name:\"domain\",\r\n    component: () => import(/* webpackChunkName: \"domain\" */ '@/views/Domain/Domain.vue'),\r\n    children:[\r\n       { \r\n        path:\"home\",\r\n        name:\"Home\",  // 首页\r\n        component: () => import(/* webpackChunkName: \"home\" */ '@/views/Home/Home.vue'),\r\n       },\r\n       { \r\n        path:\"adRank\",\r\n        name:\"AdRank\", // 域名排行榜\r\n        component: () => import(/* webpackChunkName: \"adRank\" */ '@/views/AdRank/AdRank.vue'),\r\n       },\r\n       { \r\n        path:\"dashboard\",\r\n        name:\"dashboard\", // 广告排行榜\r\n        component: () => import(/* webpackChunkName: \"dashboard\" */ '@/views/dashboard/dashboard.vue'),\r\n       },\r\n       {\r\n        path:\"domainRank\",\r\n        name:\"DomainRank\",  // 设定关键字\r\n        component: () => import(/* webpackChunkName: \"domainRank\" */ '@/views/DomainRank/DomainRank.vue'),\r\n       },\r\n       {\r\n        path:\"settings\",\r\n        name:\"Settings\", //管理\r\n        component: () => import(/* webpackChunkName: \"settings\" */ '@/views/Settings/Settings.vue'),\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    path:\"*\",\r\n    redirect:\"/login\"\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'hash',\r\n  // base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\n//導航守衛\r\nrouter.beforeEach((to,from,next)=>{\r\n  //判斷token是否失效\r\n \r\n  \r\n  let isLogin = false;\r\n  if(to.name !== \"Login\" ) {\r\n    http.get(\"/api/me\").then((res)=>{\r\n      if(res.code == 200) {\r\n        isLogin = true;\r\n        localStorage.setItem('engine',res.data.user.engine);\r\n      }else  {\r\n        next({path:'/login'});\r\n      }\r\n    }).catch((err)=>{\r\n      setTimeout(() => {\r\n        next({path:'/login'});\r\n      }, 2000);\r\n      alert(\"請注意：由於您過於頻繁跳轉頁面，因此系統判定為惡意行為，即將導向登入頁，謝謝。\");\r\n    })\r\n  }\r\n  \r\n  //在登入狀態下導到其他頁面則返回home頁\r\n  if(to.path != \"/domain\" \r\n  && to.path != \"/domain/home\" \r\n  && to.path != \"/domain/adRank\" \r\n  && to.path != \"/domain/dashboard\" \r\n  && to.path != \"/domain/domainRank\" \r\n  && to.path != \"/domain/settings\" \r\n  && isLogin){\r\n    this.$router.push({path:\"/home\"});\r\n  }\r\n  else next();\r\n});\r\n\r\n\r\nexport default router\r\n"]}]}