{"remainingRequest":"D:\\domain\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\domain\\src\\views\\Home\\Home.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\domain\\src\\views\\Home\\Home.vue","mtime":1613982389138},{"path":"D:\\domain\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5ob21lIHsNCiAgcGFkZGluZzogMCAyNnB4IDF2aCAyNnB4Ow0KICAudGFibGVIZWFkIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHdpZHRoOiA2NnZ3Ow0KICAgIG1hcmdpbjogMCBhdXRvOw0KICAgIHBhZGRpbmc6IDQxcHggMCAhaW1wb3J0YW50Ow0KICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWFlYWVhOw0KICAgIGRpdiB7DQogICAgICBtYXJnaW46IDAgOHB4Ow0KICAgICAgJjpmaXJzdC1jaGlsZCB7DQogICAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7DQogICAgICB9DQogICAgICAmOmxhc3QtY2hpbGQgew0KICAgICAgICBtYXJnaW4tcmlnaHQ6IDBweDsNCiAgICAgIH0NCiAgICAgIC5lbC1pbnB1dF9faW5uZXIgew0KICAgICAgICBmb250LWZhbWlseTogIkhlbHZldGljYSBOZXVlIiwgSGVsdmV0aWNhLCAiUGluZ0ZhbmcgU0MiLA0KICAgICAgICAgICJIaXJhZ2lubyBTYW5zIEdCIiwgIk1pY3Jvc29mdCBZYUhlaSIsICLlvq7ova/pm4Xpu5EiLCBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgICAgICAgaGVpZ2h0OiAzNnB4ICFpbXBvcnRhbnQ7DQogICAgICB9DQogICAgfQ0KICB9DQogIC50YWJsZSB7DQogICAgd2lkdGg6IDY2dnc7DQogICAgbWFyZ2luOiAwIGF1dG87DQogICAgcGFkZGluZzogMjBweCAwIDIxcHggMDsNCiAgfQ0KICAuYmxvY2sgew0KICAgIG1hcmdpbjogMCUgMCAzJSAwOw0KICAgIC5lbC1wYWdpbmF0aW9uIHsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICB9DQogIH0NCn0gIA0KLmVsLXNlbGVjdC1kcm9wZG93bl9faXRlbXsNCiAgZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgIlBpbmdGYW5nIFNDIiwNCiAgICAiSGlyYWdpbm8gU2FucyBHQiIsICJNaWNyb3NvZnQgWWFIZWkiLCAi5b6u6L2v6ZuF6buRIiwgQXJpYWwsIHNhbnMtc2VyaWY7IA0KICBmb250LXdlaWdodDogbm9ybWFsOw0KfQ0KDQoNCi5pcy1sZWFmIHsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLmJ0bi1wcmV2LA0KLmJ0bi1uZXh0IHsNCiAgd2lkdGg6IDQwcHg7DQogIGhlaWdodDogMzlweCAhaW1wb3J0YW50Ow0KfQ0KLmVsLXBhZ2VyIGxpIHsNCiAgd2lkdGg6IDQwcHg7DQogIGhlaWdodDogMzlweDsNCiAgbGluZS1oZWlnaHQ6IDM5cHg7DQp9DQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 搜尋抬頭 -->\r\n    <div class=\"tableHead\">\r\n      <div>\r\n        <el-input placeholder=\"关键词\" v-model=\"searchData.key\"></el-input>\r\n      </div>\r\n      <div>\r\n        <el-input placeholder=\"网址\" v-model=\"searchData.domain\"></el-input>\r\n      </div>\r\n      <div>\r\n        <el-input placeholder=\"最终页面\" v-model=\"searchData.url\"></el-input>\r\n      </div>\r\n      <div>\r\n        <el-input placeholder=\"广告版\" v-model=\"searchData.ad_url\"></el-input>\r\n      </div>\r\n      <div>\r\n        <div class=\"block\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            :page-sizes=\"[10, 20, 30, 50, 75, 100]\"\r\n            :page-size=\"pageData.pageCount\"\r\n            layout=\"sizes\"\r\n            :total=\"pageData.total\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n      <div><el-button type=\"primary\" @click=\"search\">查询</el-button></div>\r\n    </div>\r\n    <!-- 表格欄位 -->\r\n    <div class=\"table\">\r\n      <!-- 表格 -->\r\n      <el-table\r\n        :data=\"lists\"\r\n        style=\"width: auto\"\r\n        stripe\r\n        fix\r\n        v-loading=\"loading\"\r\n        element-loading-text=\"加载中\"\r\n        @cell-click=\"clickCell\"\r\n        show-overflow-tooltip\r\n      >\r\n        <el-table-column prop=\"key\" label=\"关键词\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"rank\" label=\"排名\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"domain\" label=\"排名网址\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"url\" label=\"最终页面\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"ad_url\" label=\"广告版\" show-overflow-tooltip>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 分頁 -->\r\n    <div class=\"block\">\r\n      <el-pagination\r\n        layout=\"prev, pager, next\"\r\n        :total=\"pageData.total\"\r\n        background\r\n        :page-size=\"pageData.pageCount\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"@/assets/js/http.js\";\r\nimport urlCopy from \"@/libs/utils/urlCopy.js\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      lists: [],\r\n      currentPage: 1,\r\n      searchData: {\r\n        key: \"\",\r\n        domain: \"\",\r\n        url: \"\",\r\n        ad_url: \"\",\r\n      },\r\n      query: {\r\n        sortBy: \"key\",\r\n        sortAsc: \"asc\",\r\n        engine: localStorage.getItem(\"engine\"),\r\n      },\r\n      pageData: {\r\n        page: 1,\r\n        pageCount: 10,\r\n        total: 0,\r\n      },\r\n      //生成表格\r\n      table: {\r\n        columns: [\r\n          {\r\n            title: \"关键词\",\r\n            key: \"key\",\r\n          },\r\n          {\r\n            title: \"排名\",\r\n            key: \"rank\",\r\n          },\r\n          {\r\n            title: \"最终页面\",\r\n            key: \"bd_url\",\r\n          },\r\n          {\r\n            title: \"广告板\",\r\n            key: \"ad_url\",\r\n          },\r\n        ],\r\n        data: [],\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    engine(n, o) {\r\n      this.query.engine = n;\r\n      this.getList();\r\n      this.$forceUpdate();\r\n    },\r\n  },\r\n  created() {\r\n    //獲取engine值\r\n    http.get(\"/api/me\").then((res) => {\r\n      this.query.engine = res.data.user.engine;\r\n      this.getList();\r\n    });\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\", \"engine\"]),\r\n  },\r\n  methods: {\r\n    getList() {\r\n      http\r\n        .get(\r\n          `/api/baidu/list?\r\n          sortBy=${this.query.sortBy}\r\n          &sortAsc=${this.query.sortAsc}\r\n          &domain=${this.searchData.domain}\r\n          &key=${this.searchData.key}\r\n          &url=${this.searchData.url}\r\n          &ad_url=${this.searchData.ad_url}\r\n          &page=${this.pageData.page}\r\n          &pageCount=${this.pageData.pageCount}\r\n          &engine=${this.query.engine}`\r\n        )\r\n        .then((res) => {\r\n          if (res.code == 200) {\r\n            this.lists = res.data.data;\r\n            this.table.data = res.data.data;\r\n            this.pageData.total = res.data.total;\r\n          }\r\n          this.loading = false;\r\n        });\r\n    },\r\n    //改變頁碼\r\n    handleCurrentChange(val) {\r\n      // console.log(\"當前頁碼：\" + val);\r\n      this.pageData.page = val;\r\n      this.getList();\r\n    },\r\n    //改變每頁數量\r\n    handleSizeChange(val) {\r\n      //當前筆數開始範圍\r\n      let currentData = this.pageData.pageCount * (this.pageData.page - 1) + 1;\r\n      // console.log(`每頁數量:${val}`);\r\n      this.pageData.pageCount = val;\r\n      //計算要轉換的page\r\n      let page = Math.ceil(currentData / val);\r\n      this.pageData.page = page;\r\n      this.getList();\r\n      this.currentPage = this.pageData.page;\r\n    },\r\n    search() {\r\n      this.pageData.page = 1;\r\n      this.currentPage = 1;\r\n      this.getList();\r\n    },\r\n    //點擊複製網址\r\n    clickCell(raw, column, cell) {\r\n      if (column.label == \"排名网址\" || column.label == \"广告版\") {\r\n        let copyUrl = cell.getElementsByClassName(\"cell\")[0].outerText;\r\n        urlCopy(copyUrl);\r\n      } else if (column.label == \"最终页面\") {\r\n        let copyUrl = raw.base_url;\r\n        urlCopy(copyUrl);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.home {\r\n  padding: 0 26px 1vh 26px;\r\n  .tableHead {\r\n    display: flex;\r\n    width: 66vw;\r\n    margin: 0 auto;\r\n    padding: 41px 0 !important;\r\n    border-bottom: 1px solid #eaeaea;\r\n    div {\r\n      margin: 0 8px;\r\n      &:first-child {\r\n        margin-left: 0px;\r\n      }\r\n      &:last-child {\r\n        margin-right: 0px;\r\n      }\r\n      .el-input__inner {\r\n        font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\",\r\n          \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif;\r\n        font-weight: normal;\r\n        height: 36px !important;\r\n      }\r\n    }\r\n  }\r\n  .table {\r\n    width: 66vw;\r\n    margin: 0 auto;\r\n    padding: 20px 0 21px 0;\r\n  }\r\n  .block {\r\n    margin: 0% 0 3% 0;\r\n    .el-pagination {\r\n      text-align: center;\r\n    }\r\n  }\r\n}  \r\n.el-select-dropdown__item{\r\n  font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\",\r\n    \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif; \r\n  font-weight: normal;\r\n}\r\n\r\n\r\n.is-leaf {\r\n  text-align: center;\r\n}\r\n.btn-prev,\r\n.btn-next {\r\n  width: 40px;\r\n  height: 39px !important;\r\n}\r\n.el-pager li {\r\n  width: 40px;\r\n  height: 39px;\r\n  line-height: 39px;\r\n}\r\n</style>\r\n"]}]}