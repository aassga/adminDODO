{"remainingRequest":"D:\\domain\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\domain\\src\\views\\Home\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\domain\\src\\views\\Home\\index.vue","mtime":1613965597143},{"path":"D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\domain\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\domain\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaHR0cCBmcm9tICJAL2Fzc2V0cy9qcy9odHRwLmpzIjsNCmltcG9ydCB1cmxDb3B5IGZyb20gIkAvbGlicy91dGlscy91cmxDb3B5LmpzIjsNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkhvbWUiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgbGlzdHM6IFtdLA0KICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICBzZWFyY2hEYXRhOiB7DQogICAgICAgIGtleTogIiIsDQogICAgICAgIGRvbWFpbjogIiIsDQogICAgICAgIHVybDogIiIsDQogICAgICAgIGFkX3VybDogIiIsDQogICAgICB9LA0KICAgICAgcXVlcnk6IHsNCiAgICAgICAgc29ydEJ5OiAia2V5IiwNCiAgICAgICAgc29ydEFzYzogImFzYyIsDQogICAgICAgIGVuZ2luZTogbG9jYWxTdG9yYWdlLmdldEl0ZW0oImVuZ2luZSIpLA0KICAgICAgfSwNCiAgICAgIHBhZ2VEYXRhOiB7DQogICAgICAgIHBhZ2U6IDEsDQogICAgICAgIHBhZ2VDb3VudDogMTAsDQogICAgICAgIHRvdGFsOiAwLA0KICAgICAgfSwNCiAgICAgIC8v55Sf5oiQ6KGo5qC8DQogICAgICB0YWJsZTogew0KICAgICAgICBjb2x1bW5zOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdGl0bGU6ICLlhbPplK7or40iLA0KICAgICAgICAgICAga2V5OiAia2V5IiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRpdGxlOiAi5o6S5ZCNIiwNCiAgICAgICAgICAgIGtleTogInJhbmsiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdGl0bGU6ICLmnIDnu4jpobXpnaIiLA0KICAgICAgICAgICAga2V5OiAiYmRfdXJsIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRpdGxlOiAi5bm/5ZGK5p2/IiwNCiAgICAgICAgICAgIGtleTogImFkX3VybCIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgICAgZGF0YTogW10sDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIHdhdGNoOiB7DQogICAgZW5naW5lKG4sIG8pIHsNCiAgICAgIHRoaXMucXVlcnkuZW5naW5lID0gbjsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIC8v542y5Y+WZW5naW5l5YC8DQogICAgaHR0cC5nZXQoIi9hcGkvbWUiKS50aGVuKChyZXMpID0+IHsNCiAgICAgIHRoaXMucXVlcnkuZW5naW5lID0gcmVzLmRhdGEudXNlci5lbmdpbmU7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICB9KTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbInRva2VuIiwgImVuZ2luZSJdKSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldExpc3QoKSB7DQogICAgICBodHRwDQogICAgICAgIC5nZXQoDQogICAgICAgICAgYC9hcGkvYmFpZHUvbGlzdD8NCiAgICAgICAgICBzb3J0Qnk9JHt0aGlzLnF1ZXJ5LnNvcnRCeX0NCiAgICAgICAgICAmc29ydEFzYz0ke3RoaXMucXVlcnkuc29ydEFzY30NCiAgICAgICAgICAmZG9tYWluPSR7dGhpcy5zZWFyY2hEYXRhLmRvbWFpbn0NCiAgICAgICAgICAma2V5PSR7dGhpcy5zZWFyY2hEYXRhLmtleX0NCiAgICAgICAgICAmdXJsPSR7dGhpcy5zZWFyY2hEYXRhLnVybH0NCiAgICAgICAgICAmYWRfdXJsPSR7dGhpcy5zZWFyY2hEYXRhLmFkX3VybH0NCiAgICAgICAgICAmcGFnZT0ke3RoaXMucGFnZURhdGEucGFnZX0NCiAgICAgICAgICAmcGFnZUNvdW50PSR7dGhpcy5wYWdlRGF0YS5wYWdlQ291bnR9DQogICAgICAgICAgJmVuZ2luZT0ke3RoaXMucXVlcnkuZW5naW5lfWANCiAgICAgICAgKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgdGhpcy5saXN0cyA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgICAgICB0aGlzLnRhYmxlLmRhdGEgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAgICAgdGhpcy5wYWdlRGF0YS50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+aUueiuiumggeeivA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAvLyBjb25zb2xlLmxvZygi55W25YmN6aCB56K877yaIiArIHZhbCk7DQogICAgICB0aGlzLnBhZ2VEYXRhLnBhZ2UgPSB2YWw7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICB9LA0KICAgIC8v5pS56K6K5q+P6aCB5pW46YePDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIC8v55W25YmN562G5pW46ZaL5aeL56+E5ZyNDQogICAgICBsZXQgY3VycmVudERhdGEgPSB0aGlzLnBhZ2VEYXRhLnBhZ2VDb3VudCAqICh0aGlzLnBhZ2VEYXRhLnBhZ2UgLSAxKSArIDE7DQogICAgICAvLyBjb25zb2xlLmxvZyhg5q+P6aCB5pW46YePOiR7dmFsfWApOw0KICAgICAgdGhpcy5wYWdlRGF0YS5wYWdlQ291bnQgPSB2YWw7DQogICAgICAvL+ioiOeul+imgei9ieaPm+eahHBhZ2UNCiAgICAgIGxldCBwYWdlID0gTWF0aC5jZWlsKGN1cnJlbnREYXRhIC8gdmFsKTsNCiAgICAgIHRoaXMucGFnZURhdGEucGFnZSA9IHBhZ2U7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB0aGlzLnBhZ2VEYXRhLnBhZ2U7DQogICAgfSwNCiAgICBzZWFyY2goKSB7DQogICAgICB0aGlzLnBhZ2VEYXRhLnBhZ2UgPSAxOw0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7DQogICAgICB0aGlzLmdldExpc3QoKTsNCiAgICB9LA0KICAgIC8v6bue5pOK6KSH6KO957ay5Z2ADQogICAgY2xpY2tDZWxsKHJhdywgY29sdW1uLCBjZWxsKSB7DQogICAgICBpZiAoY29sdW1uLmxhYmVsID09ICLmjpLlkI3nvZHlnYAiIHx8IGNvbHVtbi5sYWJlbCA9PSAi5bm/5ZGK54mIIikgew0KICAgICAgICBsZXQgY29weVVybCA9IGNlbGwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY2VsbCIpWzBdLm91dGVyVGV4dDsNCiAgICAgICAgdXJsQ29weShjb3B5VXJsKTsNCiAgICAgIH0gZWxzZSBpZiAoY29sdW1uLmxhYmVsID09ICLmnIDnu4jpobXpnaIiKSB7DQogICAgICAgIGxldCBjb3B5VXJsID0gcmF3LmJhc2VfdXJsOw0KICAgICAgICB1cmxDb3B5KGNvcHlVcmwpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 搜尋抬頭 -->\r\n    <div class=\"tableHead\">\r\n      <div>\r\n        <el-input placeholder=\"关键词\" v-model=\"searchData.key\"></el-input>\r\n      </div>\r\n      <div>\r\n        <el-input placeholder=\"网址\" v-model=\"searchData.domain\"></el-input>\r\n      </div>\r\n      <div>\r\n        <el-input placeholder=\"最终页面\" v-model=\"searchData.url\"></el-input>\r\n      </div>\r\n      <div>\r\n        <el-input placeholder=\"广告版\" v-model=\"searchData.ad_url\"></el-input>\r\n      </div>\r\n      <div>\r\n        <div class=\"block\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            :page-sizes=\"[10, 20, 30, 50, 75, 100]\"\r\n            :page-size=\"pageData.pageCount\"\r\n            layout=\"sizes\"\r\n            :total=\"pageData.total\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n      <div><el-button type=\"primary\" @click=\"search\">查询</el-button></div>\r\n    </div>\r\n    <!-- 表格欄位 -->\r\n    <div class=\"table\">\r\n      <!-- 表格 -->\r\n      <el-table\r\n        :data=\"lists\"\r\n        style=\"width: auto\"\r\n        stripe\r\n        fix\r\n        v-loading=\"loading\"\r\n        element-loading-text=\"加载中\"\r\n        @cell-click=\"clickCell\"\r\n        show-overflow-tooltip\r\n      >\r\n        <el-table-column prop=\"key\" label=\"关键词\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"rank\" label=\"排名\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"domain\" label=\"排名网址\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"url\" label=\"最终页面\" show-overflow-tooltip>\r\n        </el-table-column>\r\n        <el-table-column prop=\"ad_url\" label=\"广告版\" show-overflow-tooltip>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 分頁 -->\r\n    <div class=\"block\">\r\n      <el-pagination\r\n        layout=\"prev, pager, next\"\r\n        :total=\"pageData.total\"\r\n        background\r\n        :page-size=\"pageData.pageCount\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"@/assets/js/http.js\";\r\nimport urlCopy from \"@/libs/utils/urlCopy.js\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      lists: [],\r\n      currentPage: 1,\r\n      searchData: {\r\n        key: \"\",\r\n        domain: \"\",\r\n        url: \"\",\r\n        ad_url: \"\",\r\n      },\r\n      query: {\r\n        sortBy: \"key\",\r\n        sortAsc: \"asc\",\r\n        engine: localStorage.getItem(\"engine\"),\r\n      },\r\n      pageData: {\r\n        page: 1,\r\n        pageCount: 10,\r\n        total: 0,\r\n      },\r\n      //生成表格\r\n      table: {\r\n        columns: [\r\n          {\r\n            title: \"关键词\",\r\n            key: \"key\",\r\n          },\r\n          {\r\n            title: \"排名\",\r\n            key: \"rank\",\r\n          },\r\n          {\r\n            title: \"最终页面\",\r\n            key: \"bd_url\",\r\n          },\r\n          {\r\n            title: \"广告板\",\r\n            key: \"ad_url\",\r\n          },\r\n        ],\r\n        data: [],\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    engine(n, o) {\r\n      this.query.engine = n;\r\n      this.getList();\r\n      this.$forceUpdate();\r\n    },\r\n  },\r\n  created() {\r\n    //獲取engine值\r\n    http.get(\"/api/me\").then((res) => {\r\n      this.query.engine = res.data.user.engine;\r\n      this.getList();\r\n    });\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\", \"engine\"]),\r\n  },\r\n  methods: {\r\n    getList() {\r\n      http\r\n        .get(\r\n          `/api/baidu/list?\r\n          sortBy=${this.query.sortBy}\r\n          &sortAsc=${this.query.sortAsc}\r\n          &domain=${this.searchData.domain}\r\n          &key=${this.searchData.key}\r\n          &url=${this.searchData.url}\r\n          &ad_url=${this.searchData.ad_url}\r\n          &page=${this.pageData.page}\r\n          &pageCount=${this.pageData.pageCount}\r\n          &engine=${this.query.engine}`\r\n        )\r\n        .then((res) => {\r\n          if (res.code == 200) {\r\n            this.lists = res.data.data;\r\n            this.table.data = res.data.data;\r\n            this.pageData.total = res.data.total;\r\n          }\r\n          this.loading = false;\r\n        });\r\n    },\r\n    //改變頁碼\r\n    handleCurrentChange(val) {\r\n      // console.log(\"當前頁碼：\" + val);\r\n      this.pageData.page = val;\r\n      this.getList();\r\n    },\r\n    //改變每頁數量\r\n    handleSizeChange(val) {\r\n      //當前筆數開始範圍\r\n      let currentData = this.pageData.pageCount * (this.pageData.page - 1) + 1;\r\n      // console.log(`每頁數量:${val}`);\r\n      this.pageData.pageCount = val;\r\n      //計算要轉換的page\r\n      let page = Math.ceil(currentData / val);\r\n      this.pageData.page = page;\r\n      this.getList();\r\n      this.currentPage = this.pageData.page;\r\n    },\r\n    search() {\r\n      this.pageData.page = 1;\r\n      this.currentPage = 1;\r\n      this.getList();\r\n    },\r\n    //點擊複製網址\r\n    clickCell(raw, column, cell) {\r\n      if (column.label == \"排名网址\" || column.label == \"广告版\") {\r\n        let copyUrl = cell.getElementsByClassName(\"cell\")[0].outerText;\r\n        urlCopy(copyUrl);\r\n      } else if (column.label == \"最终页面\") {\r\n        let copyUrl = raw.base_url;\r\n        urlCopy(copyUrl);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.home {\r\n  padding: 0 26px 1vh 26px;\r\n  .tableHead {\r\n    display: flex;\r\n    width: 66vw;\r\n    margin: 0 auto;\r\n    padding: 41px 0 !important;\r\n    border-bottom: 1px solid #eaeaea;\r\n    div {\r\n      margin: 0 8px;\r\n      &:first-child {\r\n        margin-left: 0px;\r\n      }\r\n      &:last-child {\r\n        margin-right: 0px;\r\n      }\r\n      .el-input__inner {\r\n        font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\",\r\n          \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif;\r\n        font-weight: normal;\r\n        height: 36px !important;\r\n      }\r\n    }\r\n  }\r\n  .table {\r\n    width: 66vw;\r\n    margin: 0 auto;\r\n    padding: 20px 0 21px 0;\r\n  }\r\n  .block {\r\n    margin: 0% 0 3% 0;\r\n    .el-pagination {\r\n      text-align: center;\r\n    }\r\n  }\r\n}  \r\n.el-select-dropdown__item{\r\n  font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\",\r\n    \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif; \r\n  font-weight: normal;\r\n}\r\n\r\n\r\n.is-leaf {\r\n  text-align: center;\r\n}\r\n.btn-prev,\r\n.btn-next {\r\n  width: 40px;\r\n  height: 39px !important;\r\n}\r\n.el-pager li {\r\n  width: 40px;\r\n  height: 39px;\r\n  line-height: 39px;\r\n}\r\n</style>\r\n"]}]}